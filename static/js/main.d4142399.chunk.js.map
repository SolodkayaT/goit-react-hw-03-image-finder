{"version":3,"sources":["components/Modal/Modal.module.css","components/App/App.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","services/imagesApi.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/SearchBar/SearchBar.js","components/Notification/Notification.js","components/Button/Button.js","components/Modal/Modal.js","components/App/App.js","index.js","components/SearchBar/SearchBar.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css"],"names":["module","exports","searchQuery","page","axios","get","then","response","data","hits","ImageGalleryItem","webformatURL","tags","largeImageURL","showImage","className","styles","ImageGalleryItemImage","src","alt","data-src","onClick","e","target","dataset","propType","PropType","string","defaultProps","ImageGallery","images","showLargeImage","map","id","key","url","array","SearchBar","state","inputValue","handleChange","setState","value","handleSubmit","preventDefault","props","onSubmit","Searchbar","this","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","onChange","placeholder","Component","func","Notification","error","message","Button","text","onClickButton","Modal","backdropRef","createRef","handleKeyDown","code","onClose","handleBackdropClick","current","window","addEventListener","removeEventListener","Overlay","ref","children","App","isLoading","showModal","largeImageUrl","imagesScroll","scrollTo","top","document","documentElement","scrollHeight","behavior","fetchImages","imagesApi","prevState","catch","finally","handleSearchFormSubmit","query","toggleModal","handleShowImage","prevProps","prevQuery","nextQuery","length","color","height","width","timeout","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.d4142399.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AxMb\",\"Modal\":\"Modal_Modal__2WBTT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__aOmNj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__DncjJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3R1xi\"};","import axios from \"axios\";\n\nconst fetchImagesWithQuery = (searchQuery, page = 1) => {\n  return axios\n    .get(\n      `https://pixabay.com/api/?q=${searchQuery}&page=${page}&key=14836280-095028a335045ad546bd82bf5&image_type=photo&orientation=horizontal&per_page=12`\n    )\n    .then(response => response.data.hits);\n};\n\nexport default {\n  fetchImagesWithQuery\n};\n","import React from \"react\";\nimport PropType from \"prop-types\";\nimport styles from \"./ImageGalleryItem.module.css\";\n\nconst ImageGalleryItem = ({ webformatURL, tags, largeImageURL, showImage }) => (\n  <li className={styles.ImageGalleryItem}>\n    <img\n      className={styles.ImageGalleryItemImage}\n      src={webformatURL}\n      alt={tags}\n      data-src={largeImageURL}\n      onClick={e => showImage(e.target.dataset.src)}\n    />\n  </li>\n);\n\nexport default ImageGalleryItem;\nImageGalleryItem.propType = {\n  webformatURL: PropType.string,\n  tags: PropType.string,\n  largeImageURL: PropType.string\n};\n\nImageGalleryItem.defaultProps = {\n  webformatURL: \"\",\n  tags: \"picture\",\n  largeImageURL: \"\"\n};\n","import React from \"react\";\nimport PropType from \"prop-types\";\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\nimport styles from \"./ImageGallery.module.css\";\n\nconst ImageGallery = ({ images, showLargeImage }) => (\n  <ul className={styles.ImageGallery}>\n    {images.map(({ id, webformatURL, tags, largeImageURL }) => (\n      <ImageGalleryItem\n        key={id}\n        id={id}\n        webformatURL={webformatURL}\n        tags={tags}\n        largeImageURL={largeImageURL}\n        showImage={url => showLargeImage(url)}\n      />\n    ))}\n  </ul>\n);\n\nexport default ImageGallery;\n\nImageGallery.PropType = {\n  images: PropType.array\n};\nImageGallery.defaultProps = {\n  images: []\n};\n","import React, { Component } from \"react\";\nimport PropType from \"prop-types\";\nimport styles from \"./SearchBar.module.css\";\n\nexport default class SearchBar extends Component {\n  static propType = {\n    onSubmit: PropType.func\n  };\n\n  state = {\n    inputValue: \"\"\n  };\n\n  handleChange = e =>\n    this.setState({\n      inputValue: e.target.value\n    });\n\n  handleSubmit = e => {\n    e.preventDefault();\n    this.props.onSubmit(this.state.inputValue);\n    this.setState({ inputValue: \"\" });\n  };\n\n  render() {\n    return (\n      <header className={styles.Searchbar}>\n        <form onSubmit={this.handleSubmit} className={styles.SearchForm}>\n          <button type=\"submit\" className={styles.SearchFormButton}>\n            <span className={styles.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={styles.SearchFormInput}\n            value={this.state.inputValue}\n            onChange={this.handleChange}\n            type=\"text\"\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","import React from \"react\";\nimport PropType from \"prop-types\";\n\nconst Notification = error => <p>Somthing went wrong: {error.message}</p>;\nexport default Notification;\n\nNotification.propType = {\n  error: PropType.string\n};\n\nNotification.defaultProps = {\n  error: \"Somthing went wrong :(\"\n};\n","import React from \"react\";\nimport PropType from \"prop-types\";\nimport styles from \"./Button.module.css\";\n\nconst Button = ({ text, onClickButton }) => (\n  <button className={styles.Button} type=\"button\" onClick={onClickButton}>\n    {text}\n  </button>\n);\n\nexport default Button;\n\nButton.propType = {\n  text: PropType.string,\n  onClickButton: PropType.func\n};\n\nButton.defaultProps = {\n  text: \"Click me\"\n};\n","import React, { Component, createRef } from \"react\";\nimport styles from \"./Modal.module.css\";\n\nexport default class Modal extends Component {\n  backdropRef = createRef();\n\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    if (e.code === \"Escape\") {\n      this.props.onClose();\n    }\n  };\n\n  handleBackdropClick = e => {\n    if (e.target === this.backdropRef.current) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return (\n      <div\n        className={styles.Overlay}\n        ref={this.backdropRef}\n        onClick={this.handleBackdropClick}\n      >\n        <div className={styles.Modal}>{this.props.children}</div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport Loader from \"react-loader-spinner\";\n\nimport styles from \"./App.module.css\";\nimport imagesApi from \"../../services/imagesApi\";\n\nimport ImageGallery from \"../ImageGallery/ImageGallery\";\nimport SearchBar from \"../SearchBar/SearchBar\";\nimport Notification from \"../Notification/Notification\";\nimport Button from \"../Button/Button\";\nimport Modal from \"../Modal/Modal\";\n\nexport default class App extends Component {\n  state = {\n    images: [],\n    isLoading: false,\n    error: null,\n    searchQuery: \"\",\n    page: 1,\n    showModal: false,\n    largeImageUrl: null\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevQuery = prevState.searchQuery;\n    const nextQuery = this.state.searchQuery;\n    if (prevQuery !== nextQuery) {\n      this.fetchImages(nextQuery);\n    }\n    if (prevState.images.length !== this.state.images.length) {\n      this.imagesScroll();\n    }\n  }\n\n  imagesScroll = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\"\n    });\n  };\n\n  fetchImages = () => {\n    this.setState({\n      isLoading: true\n    });\n    imagesApi\n      .fetchImagesWithQuery(this.state.searchQuery, this.state.page)\n      .then(images =>\n        this.setState(prevState => ({\n          images: [...prevState.images, ...images],\n          page: prevState.page + 1\n        }))\n      )\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  handleSearchFormSubmit = query => {\n    this.setState({ searchQuery: query, page: 1, images: [] });\n  };\n\n  toggleModal = () => {\n    this.setState({\n      largeImageUrl: null\n    });\n  };\n\n  handleShowImage = url => {\n    this.setState({\n      largeImageUrl: url\n    });\n  };\n\n  render() {\n    const { images, isLoading, error, largeImageUrl } = this.state;\n\n    return (\n      <section className={styles.App}>\n        <SearchBar onSubmit={this.handleSearchFormSubmit} />\n        {error && <Notification message={error.message} />}\n        {images.length > 0 && (\n          <ImageGallery images={images} showLargeImage={this.handleShowImage} />\n        )}\n        {isLoading && (\n          <Loader\n            type=\"Puff\"\n            color=\"#00BFFF\"\n            height={100}\n            width={100}\n            timeout={3000}\n          />\n        )}\n        {images.length > 0 && !isLoading && (\n          <Button text=\"Load more\" onClickButton={this.fetchImages} />\n        )}\n        {largeImageUrl && (\n          <Modal onClose={this.toggleModal}>\n            <img src={largeImageUrl} alt=\"\" />\n          </Modal>\n        )}\n      </section>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App/App\";\nimport \"./base.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SearchForm\":\"SearchBar_SearchForm__1k1JW\",\"SearchFormButton\":\"SearchBar_SearchFormButton__3W9N5\",\"SearchFormButtonLabel\":\"SearchBar_SearchFormButtonLabel__2bY4N\",\"SearchFormInput\":\"SearchBar_SearchFormInput__17jtp\",\"Searchbar\":\"SearchBar_Searchbar__19WMJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3CvRl\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2bkPr\"};"],"sourceRoot":""}